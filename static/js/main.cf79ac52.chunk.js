(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e){e.exports={apiKey:"AIzaSyAnELWGFm7BMRbvIEUmEFURZ1Qb9hOIPtI",authDomain:"typist-4a9f2.firebaseapp.com",databaseURL:"https://typist-4a9f2.firebaseio.com",projectId:"typist-4a9f2",storageBucket:"typist-4a9f2.appspot.com",messagingSenderId:"504213346609"}},22:function(e,t,n){e.exports=n(47)},31:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(19),i=n.n(s),o=n(13),l=n.n(o),c=(n(12),n(31),n(4)),u=n(7),d=n(8),h=n(10),g=n(9),m=n(11),p=n(20),f=n.n(p),w=n(2),y=n.n(w),v=n(3),b=n.n(v),k=(n(41),function(e){var t=e.done,n=e.letter,a=e.isCurrent;return r.a.createElement("span",{className:y()("letter",{done:t,current:a})},n)}),E=(n(43),function(e){var t=e.letters,n=e.index;return r.a.createElement("div",{className:"text"},t.map(function(e,t){return r.a.createElement(k,Object.assign({key:t,isCurrent:t===n},e))}))}),S=function(e){var t=e.wordsPerMinute;return r.a.createElement("pre",null,"[",t.join(", "),"]")},j=function(e){var t=e.location;return r.a.createElement("sup",null,"on index ",t)};function x(e,t,n){var a=new b.a.auth.GoogleAuthProvider;b.a.auth().useDeviceLanguage(),e(!0),b.a.auth().signInWithPopup(a).then(function(t){e(!1),console.log("signup success"),n()}).catch(function(e){console.log("error",e),t(e)})}var P=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={email:"",password:"",loading:!1,error:{}},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"signup",value:function(){var e=this,t=this.state,n=t.email,a=t.password;console.log({email:n,password:a}),n&&a&&(this.setState({loading:!0,error:{}}),b.a.auth().createUserWithEmailAndPassword(n,a).then(function(t){e.setState({loading:!1}),e.props.signupSuccess()}).catch(function(t){console.log("error",t),e.setState({error:t,loading:!1})}))}},{key:"signupWithGoogle",value:function(){var e=this;x(function(t){e.setState(Object(c.a)({},e.state,{loading:t}))},function(t){e.setState({loading:!1,error:t})},this.props.signupSuccess)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:y()("email-signup")},r.a.createElement("div",{className:y()("u-form-group")},r.a.createElement("input",{type:"email",placeholder:"Email",onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement("div",{className:y()("u-form-group")},r.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("div",{className:y()("u-form-group")},r.a.createElement("button",{onClick:function(){return e.signup()}},this.state.loading?"Please wait...":"Signup")),r.a.createElement("div",{className:y()("u-form-group error")},this.state.error.message),r.a.createElement("div",null,r.a.createElement("img",{alt:"Sign Up with Google",src:"/btn_google_signin_dark_normal_web.png",onClick:function(){return e.signupWithGoogle()}})))}}]),t}(r.a.Component),O=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={email:"",password:"",loading:!1,error:{}},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"signinWithGoogle",value:function(){var e=this;x(function(t){e.setState(Object(c.a)({},e.state,{loading:t}))},function(t){e.setState({loading:!1,error:t})},this.props.signinSuccess)}},{key:"signin",value:function(){var e=this,t=this.state,n=t.email,a=t.password;n&&a&&(this.setState({loading:!0,error:{}}),b.a.auth().signInWithEmailAndPassword(n,a).then(function(t){e.setState({loading:!1}),e.props.signinSuccess()}).catch(function(t){console.log("error",t),e.setState({error:t,loading:!1})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:y()("email-signin")},r.a.createElement("div",{className:y()("u-form-group")},r.a.createElement("input",{type:"email",placeholder:"Email",onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement("div",{className:y()("u-form-group")},r.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("div",{className:y()("u-form-group")},r.a.createElement("button",{onClick:function(){return e.signin()}},this.state.loading?"Please wait...":"Signin")),r.a.createElement("div",{className:y()("u-form-group error")},this.state.error.message),r.a.createElement("div",null,r.a.createElement("img",{alt:"Sign In with Google",src:"/btn_google_signin_dark_normal_web.png",onClick:function(){return e.signinWithGoogle()}})))}}]),t}(r.a.Component),C=["th","and","to","of","a","i","in","was","he","that","it","his","her","you","as","had","with","for","she","not","at","but","be","my","on","have","him","is","said","me","which","by","so","this","all","from","they","no","were","if","would","or","when","what","there","been","one","could","very","an","who","them","mr","we","now","more","out","do","are","up","their","your","will","little","than","then","some","into","any","well","much","about","time","know","should","man","did","like","upon","such","never","only","good","how","before","other","see","must","am","own","come","down","say","after","think","made","might","being","mrs","again","great","two","can","go","over","too","here","came","old","thought","himself","where","our","may","first","way","has","though","without","went","us","away","day","make","these","young","nothing","long","shall","sir","back","don","house","ever","yet","take","every","hand","most","last","eyes","its","miss","having","off","looked","even","while","dear","look","many","life","still","mind","quite","another","those","just","head","tell","better","always","saw","seemed","put","face","let","took","poor","place","why","done","herself","found","through","same","going","under","enough","soon","home","give","indeed","left","get","once","mother","heard","myself","rather","love","knew","got","lady","room","something","yes","thing","father","perhaps","sure","heart","oh","right","against","three","men","night","people","door","told","round","because","woman","till","felt","between","both","side","seen","morning","began","whom","however","asked","things","part","almost","moment","looking","want","far","hands","gone","world","few","towards","gave","friend","name","best","word","turned","kind","cried","since","anything","next","find","half","hope","called","nor","words","hear","brought","set","each","replied","wish","voice","whole","together","manner","new","believe","course","least","years","answered","among","stood","sat","speak","leave","work","keep","taken","end","less","present","family","often","wife","whether","master","coming","mean","returned","evening","light","money","cannot","whose","boy","days","near","matter","suppose","gentleman","used","says","really","rest","business","full","help","child","sort","passed","lay","small","behind","girl","feel","fire","care","alone","open","person","call","given","i","sometimes","making","short","else","large","within","chapter","true","country","times","ask","answer","air","kept","hour","letter","happy","reason","pretty","husband","certain","others","ought","does","known","it","bed","table","that","ready","read","already","pleasure","either","means","spoke","taking","friends","talk","hard","walked","turn","strong","thus","yourself","high","along","above","feeling","glad","children","doubt","nature","themselves","black","hardly","town","sense","saying","deal","account","use","white","bad","everything","can","neither","wanted","mine","close","return","dark","fell","subject","bear","appeared","fear","state","thinking","also","point","therefore","fine","case","doing","held","certainly","walk","lost","question","company","continued","fellow","truth","water","possible","hold","afraid","bring","honour","low","ground","added","five","remember","except","power","seeing","dead","i","usual","able","second","arms","late","opinion","window","brother","live","four","none","death","arm","road","hair","sister","entered","sent","married","longer","immediately","god","women","hours","ten","understand","son","horse","wonder","cold","beyond","please","fair","became","sight","met","afterwards","eye","year","show","general","itself","silence","lord","wrong","turning","daughter","stay","forward","o","interest","thoughts","followed","won","different","opened","several","idea","received","change","laid","strange","nobody","fact","during","feet","tears","run","purpose","character","body","ran","past","order","need","pleased","trouble","whatever","dinner","happened","sitting","getting","there","besides","soul","ill","early","rose","aunt","hundred","minutes","across","carried","sit","observed","suddenly","creature","conversation","worse","six","quiet","chair","doctor","tone","standing","living","sorry","stand","meet","instead","wished","ah","lived","try","red","smile","sound","expected","silent","common","meant","tried","until","mouth","distance","occasion","cut","marry","likely","length","story","visit","deep","seems","street","remained","become","led","speaking","natural","giving","further","struck","week","loved","drew","seem","church","knows","object","ladies","marriage","book","appearance","pay","i","obliged","particular","pass","thank","form","knowing","lips","knowledge","former","blood","sake","fortune","necessary","presence","feelings","corner","beautiful","talking","spirit","ago","foot","circumstances","wind","presently","comes","attention","wait","play","easy","real","clear","worth","cause","send","spirits","chance","didn","view","pleasant","party","beginning","horses","stopped","notice","duty","he","age","figure","leaving","sleep","entirely","twenty","fall","promise","months","broken","heavy","secret","thousand","happiness","comfort","minute","act","human","fancy","strength","showed","pounds","nearly","probably","captain","piece","school","write","laughed","reached","repeated","walking","father","heaven","beauty","shook","sun","waiting","moved","bit","desire","news","front","effect","laugh","uncle","fit","miles","handsome","caught","hat","regard","gentlemen","supposed","easily","impossible","glass","resolved","grew","consider","green","considered","unless","stop","forth","expect","perfectly","altogether","surprise","sudden","free","exactly","grave","carriage","believed","service","angry","putting","carry","everybody","mentioned","looks","scarcely","society","affection","exclaimed","dress","die","earth","latter","garden","step","perfect","countenance","liked","dare","pain","companion","journey","paper","opportunity","makes","honest","arrived","you","bright","pity","directly","cry","trust","fast","ye","warm","danger","trees","breakfast","rich","engaged","proper","talked","respect","fixed","hill","wall","determined","wild","shut","top","plain","scene","sweet","especially","public","acquaintance","forget","history","pale","pray","books","afternoon","man","otherwise","mention","position","speech","gate","boys","yours","drink","slowly","broke","clothes","fond","pride","watch","sooner","settled","paid","reply","tea","lie","running","died","gentle","particularly","allowed","outside","placed","joy","hearing","note","condition","follow","begin","neck","serious","hurt","kindness","mere","farther","changed","o","passing","girls","force","situation","greater","expression","eat","reading","spoken","raised","anybody","started","following","although","sea","proud","future","quick","safe","temper","laughing","ears","difficulty","meaning","servant","sad","advantage","appear","offer","breath","opposite","number","miserable","law","rising","favour","save","twice","single","blue","noise","stone","mistress","surprised","allow","spot","burst","keeping","line","understood","court","finding","direction","anxious","pocket","around","conduct","loss","fresh","below","hall","satisfaction","land","telling","passion","floor","break","lying","waited","closed","meeting","trying","seat","king","confidence","offered","stranger","somebody","matters","noble","pardon","private","sharp","evil","weeks","justice","hot","cast","letters","youth","lives","health","finished","hoped","holding","touch","spite","delight","bound","consequence","rain","wouldn","third","hung","ways","weather","written","difference","kitchen","she","mother","persons","quarter","promised","hopes","brown","nay","seven","simple","wood","beside","middle","ashamed","lose","dreadful","move","generally","cousin","surely","satisfied","bent","shoulder","art","field","quickly","thrown","tired","share","pair","to","aware","colour","writing","whenever","quietly","fool","forced","touched","smiling","taste","dog","spent","steps","worst","legs","watched","ay","thee","eight","worthy","wrote","manners","proceeded","frightened","somewhat","born","greatest","charge","degree","shame","places","ma","couldn","tongue","according","box","wine","filled","servants","calling","fallen","368"],N=(n(45),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={size:5,stats:{keys:[],success:[],fails:[]},text:"",index:0,letters:[],typed:"",start:new Date,wpm:[],activePage:"app"},n.keyPressHandler=function(e){var t="number"===typeof e.which?e.which:e.keyCode,a=String.fromCharCode(t);n.register(a)},n.keyDownHandler=function(e){var t="number"===typeof e.which?e.which:e.keyCode;8===t&&n.backspace(),27===t&&n.completed()},n.generateText=function(){var e=n.state.size,t=C.filter(function(e){return e.length>=3}),a=f()(t,e).join(" "),r=a.split("").map(function(e){return{letter:e,done:!1}});n.setState({text:a,letters:r})},n.backspace=function(){var e=n.state.index;0!==e&&n.setState({index:e-1})},n.completed=function(){this.generateText(),this.setState({index:0,typed:"",start:new Date})},n.calcTime=function(e,t){var a=n.state.size,r=e.getTime()/1e3,s=t.getTime()/1e3,i=Math.round(s-r);return Math.round(60*a/i)},n.register=function(e){var t={key:e,ts:+new Date},a=n.state,r=a.stats,s=a.text,i=a.index,o=a.letters,l=a.typed,u=s.substr(i,1),d={stats:Object(c.a)({},r,{keys:r.keys.concat(t)})};if(e!==u)d.stats=Object(c.a)({},r,d.stats,{fails:r.fails.concat(t)});else{var h=o.map(function(e,t){return t===i?Object(c.a)({},e,{done:!0}):e});d.letters=h,d.index=i+1,d.typed="".concat(l).concat(e),d.stats=Object(c.a)({},r,d.stats,{success:r.success.concat(t)});var g=!1;if(i===s.length-1){var m=n.state,p=m.start,f=m.wpm,w=n.calcTime(p,new Date);d.wpm=f.concat(w),g=!0}n.setState(d,function(){return g&&n.completed()})}},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keypress",this.keyPressHandler),document.addEventListener("keydown",this.keyDownHandler),this.completed()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this.keyPressHandler),document.removeEventListener("keydown",this.keyDownHandler)}},{key:"changeActivePage",value:function(e){this.setState({activePage:e})}},{key:"signupSuccess",value:function(){this.changeActivePage("app")}},{key:"signinSuccess",value:function(){this.changeActivePage("app")}},{key:"signout",value:function(){b.a.auth().signOut()}},{key:"render",value:function(){var e=this,t=this.props.user,n=this.state,a=n.letters,s=n.index,i=n.wpm,o=function(t){var n=t.title,a=t.keyword,s=t.active,i=t.left;t.onPress;return r.a.createElement("li",{className:y()("menu-item",{active:s===a,left:i}),onClick:function(){return e.changeActivePage(a)}},n)};return r.a.createElement("div",null,r.a.createElement("div",{className:y()("navbar")},r.a.createElement("ul",{className:y()("menu")},r.a.createElement(o,{title:"Typist",keyword:"app",left:!0,active:this.state.activePage}),!t.uid&&r.a.createElement(o,{title:"Signup",keyword:"signup",active:this.state.activePage}),!t.uid&&r.a.createElement(o,{title:"Signin",keyword:"signin",active:this.state.activePage}),t.uid&&r.a.createElement("li",{className:y()("menu-item"),onClick:function(){return e.signout()}},"Logout"),t.uid&&r.a.createElement("li",{className:y()("menu-item"),onClick:function(){}},t.displayName||t.email))),"signup"===this.state.activePage&&r.a.createElement(P,{signupSuccess:function(){return e.signupSuccess()}}),"signin"===this.state.activePage&&r.a.createElement(O,{signinSuccess:function(){return e.signinSuccess()}}),"app"===this.state.activePage&&r.a.createElement("div",{className:"App"},r.a.createElement(E,{letters:a,index:s}),r.a.createElement(S,{wordsPerMinute:i}),r.a.createElement(j,{location:s})))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(21);l.a.initializeApp(A),l.a.auth().onAuthStateChanged(function(e){i.a.render(r.a.createElement(N,{user:e||{}}),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.cf79ac52.chunk.js.map